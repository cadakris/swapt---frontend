{"ast":null,"code":"var _jsxFileName = \"/Users/krisc/Swapt_Project/frontend_swap_project/src/userprofilemodal/UserProfileModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport './UserProfileModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserProfileModal(_ref) {\n  _s();\n\n  let {\n    userItems,\n    setUserItems,\n    handleCloseModal\n  } = _ref;\n  const {\n    bio,\n    full_name,\n    location,\n    items,\n    image\n  } = userItems;\n  const [formState, setFormState] = useState({\n    full_name: `${full_name}`,\n    location: `${location}`,\n    bio: `${bio}`,\n    image: `${image}`,\n    items: `${items}`\n  }); //This function is setting state and adding in the user input values\n\n  const handleProfileChange = e => {\n    setFormState({ ...formState,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const editUserProfile = e => {\n    e.preventDefault();\n    fetch(`http://localhost:9292/edituserprofile/${userItems.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        full_name: formState.full_name,\n        location: formState.location,\n        bio: formState.bio,\n        image: formState.image,\n        items: `${items}`\n      })\n    }).then(response => response.json()).then(updatedUserInfo => {\n      console.log(\"setuseritems\", setUserItems); // setUserItems({...userItems, updatedUserInfo})\n\n      setFormState(updatedUserInfo);\n    }).then(() => {\n      // console.log(updatedUserInfo)\n      fetch('http://localhost:9292/userincludeitems').then(res => res.json()).then(newUserInfo => setUserItems(newUserInfo));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(UserProfileModal, \"rZgP9nUgMymSgF1jfXmCTSGznrY=\");\n\n_c = UserProfileModal;\nexport default UserProfileModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfileModal\");","map":{"version":3,"sources":["/Users/krisc/Swapt_Project/frontend_swap_project/src/userprofilemodal/UserProfileModal.js"],"names":["React","useState","useNavigate","UserProfileModal","userItems","setUserItems","handleCloseModal","bio","full_name","location","items","image","formState","setFormState","handleProfileChange","e","target","name","value","editUserProfile","preventDefault","fetch","id","method","headers","body","JSON","stringify","then","response","json","updatedUserInfo","console","log","res","newUserInfo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAO,wBAAP;;;;AAEA,SAASC,gBAAT,OAAuE;AAAA;;AAAA,MAA7C;AAACC,IAAAA,SAAD;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,GAA6C;AAErE,QAAM;AAACC,IAAAA,GAAD;AAAMC,IAAAA,SAAN;AAAiBC,IAAAA,QAAjB;AAA2BC,IAAAA,KAA3B;AAAkCC,IAAAA;AAAlC,MAA2CP,SAAjD;AAEA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA0BZ,QAAQ,CAAC;AACvCO,IAAAA,SAAS,EAAG,GAAEA,SAAU,EADe;AAEvCC,IAAAA,QAAQ,EAAG,GAAEA,QAAS,EAFiB;AAGvCF,IAAAA,GAAG,EAAG,GAAEA,GAAI,EAH2B;AAIvCI,IAAAA,KAAK,EAAG,GAAEA,KAAM,EAJuB;AAKvCD,IAAAA,KAAK,EAAG,GAAEA,KAAM;AALuB,GAAD,CAAxC,CAJqE,CAYrE;;AACA,QAAMI,mBAAmB,GAAIC,CAAD,IAAO;AACjCF,IAAAA,YAAY,CAAC,EAAC,GAAGD,SAAJ;AAAe,OAACG,CAAC,CAACC,MAAF,CAASC,IAAV,GAAgBF,CAAC,CAACC,MAAF,CAASE;AAAxC,KAAD,CAAZ;AACD,GAFD;;AAKA,QAAMC,eAAe,GAAIJ,CAAD,IAAO;AAC7BA,IAAAA,CAAC,CAACK,cAAF;AACAC,IAAAA,KAAK,CAAE,yCAAwCjB,SAAS,CAACkB,EAAG,EAAvD,EAA0D;AAC7DC,MAAAA,MAAM,EAAE,OADqD;AAE7DC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFoD;AAK7DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBnB,QAAAA,SAAS,EAAEI,SAAS,CAACJ,SADF;AAEnBC,QAAAA,QAAQ,EAAEG,SAAS,CAACH,QAFD;AAGnBF,QAAAA,GAAG,EAAEK,SAAS,CAACL,GAHI;AAInBI,QAAAA,KAAK,EAAEC,SAAS,CAACD,KAJE;AAKnBD,QAAAA,KAAK,EAAE,GAAEA,KAAM;AALI,OAAf;AALuD,KAA1D,CAAL,CAaCkB,IAbD,CAaMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAblB,EAcCF,IAdD,CAcMG,eAAe,IAAI;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B5B,YAA5B,EADuB,CAEvB;;AACAQ,MAAAA,YAAY,CAACkB,eAAD,CAAZ;AACD,KAlBD,EAmBCH,IAnBD,CAmBM,MAAM;AACV;AACAP,MAAAA,KAAK,CAAC,wCAAD,CAAL,CACCO,IADD,CACOM,GAAD,IAASA,GAAG,CAACJ,IAAJ,EADf,EAECF,IAFD,CAEOO,WAAD,IAAiB9B,YAAY,CAAC8B,WAAD,CAFnC;AAGD,KAxBD;AA0BC,GA5BH;;AAiCA,sBACI;AAAA,2BACA;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA;AADA,mBADJ;AAmED;;GAtHQhC,gB;;KAAAA,gB;AAwHT,eAAeA,gBAAf","sourcesContent":["import React, { useState } from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport './UserProfileModal.css'\n\nfunction UserProfileModal({userItems, setUserItems, handleCloseModal}) { \n\n  const {bio, full_name, location, items, image} = userItems\n\n  const [formState, setFormState]=useState({\n    full_name: `${full_name}`,\n    location: `${location}`,\n    bio: `${bio}`,\n    image: `${image}`,\n    items: `${items}`\n  })  \n\n  //This function is setting state and adding in the user input values\n  const handleProfileChange = (e) => {\n    setFormState({...formState, [e.target.name]:e.target.value})\n  }\n  \n\n  const editUserProfile = (e) => {\n    e.preventDefault()\n    fetch(`http://localhost:9292/edituserprofile/${userItems.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        full_name: formState.full_name,\n        location: formState.location,\n        bio: formState.bio, \n        image: formState.image,\n        items:`${items}`\n      })\n    })\n    .then(response => response.json())\n    .then(updatedUserInfo => {\n      console.log(\"setuseritems\", setUserItems)\n      // setUserItems({...userItems, updatedUserInfo})\n      setFormState(updatedUserInfo)\n    })\n    .then(() => {\n      // console.log(updatedUserInfo)\n      fetch('http://localhost:9292/userincludeitems')\n      .then((res) => res.json())\n      .then((newUserInfo) => setUserItems(newUserInfo))\n    })\n\n    }\n\n\n\n \n  return (\n      <>\n      <div className='modal'> \n        {/* <form onSubmit={editUserProfile}className=\"editProfilForm\">\n            <label>Name:\n            <br />\n            <input \n              className=\"user-info-input-box\" \n              type=\"text\" \n              name=\"full_name\" \n              placeholder={userItems.full_name}\n              value={formState.full_name} \n              onChange={handleProfileChange}\n              input/>\n            </label>\n            <br />\n\n            <label>Bio:\n            <br />\n            <input \n              className=\"user-info-input-box\" \n              type=\"text\" \n              name=\"bio\" \n              placeholder={userItems.bio}\n              value={formState.bio} \n              onChange={handleProfileChange}/>\n            </label>\n            <br />\n\n            <label>Location:\n            <br />\n            <input \n              className=\"user-info-input-box\" \n              type=\"text\" \n              name=\"location\" \n              placeholder={userItems.location}\n              value={formState.location} \n              onChange={handleProfileChange}/>\n            </label>\n            <br />\n\n            <label>Image:\n            <br />\n            <input \n              className=\"user-info-input-box\" \n              type=\"text\" \n              name=\"image\" \n              placeholder=\"Upload New Image\"\n              value={formState.image} \n              onChange={handleProfileChange}/>\n            </label>\n            <br />\n\n            <input\n                className=\"profileformbutton\"\n                type=\"submit\"\n                name=\"submit\"\n                value=\"Submit Changes\"\n            />\n\n            <button className=\"profileformbutton\" onClick={handleCloseModal}>Cancel</button>\n\n        </form> */}\n      </div>\n      </>\n\n  )\n}\n\nexport default UserProfileModal"]},"metadata":{},"sourceType":"module"}